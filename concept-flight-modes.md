# 飞行模式

**飞行模式**定义了系统的状态。用户可以通过遥控器上的开关或者[地面站](qgroundcontrol-intro.md)切换飞行模式。

## 飞行模式简介

  * **_MANUAL（手动模式）_**
    * **固定翼飞行器/车/船：**
        * **MANUAL:** 飞行员的控制输入会被直接传递给输出混控器。
        * **STABILIZED:** 飞行员的滚转、俯仰输入会被作为*角度（angle）*命令，偏航则直接传递给输出混控器。
    * **多轴飞行器：**
        * **ACRO:** 飞行员的滚转、俯仰、偏航输入会被作为*速率（rate）*命令发送给自动驾驶仪。在这种模式下你可以实现倒飞。油门输入会被直接传递给输出混控器。
        * **RATTITUDE** 如果高于该模式指定的阈值，那么飞行员的滚转、俯仰、偏航输入会被作为*速率（rate）*命令发送给自动驾驶仪；否则，滚转、俯仰输入会被作为*角度（angle）*命令传递，而偏航输入则作为*速率（rate）*命令传递。油门输入被直接传递给输出混控器。
        * **ANGLE** 飞行员的滚转和俯仰输入会被传递为*角度（angle）*命令，偏航输入会被传递为*速率（rate）*命令。油门输入会直接传递给输出混控器。
  * **_ASSISTED（辅助模式）_**
    * **ALTCTL（高度控制模式）**
      * **固定翼飞行器：** 如果滚转、俯仰和偏航输入都为0（位于某个死区内），那么飞机会恢复到水平直线飞行的状态并维持在当前的高度。如果风速不为零，那么会随风漂移。
      * **多轴飞行器：** 滚转、俯仰和偏航输入会直接传递给输出混控器，油门输入会被翻译为预定义的最大爬升/下降速率。油门具有很大的死区。
    * **POSCTL（位置控制模式）**
      * **固定翼飞行器：** 如果摇杆居中，那么会维持水平直线飞行，如果有风，那么飞机可能会左右摇摆以便维持直线飞行。
      * **多轴飞行器：** 滚转输入控制左右方向的对地速度，俯仰输入控制前后方向的对地速度。 当滚转和俯仰输入都居中时（位于死区），多轴飞行器会维持当前的位置。偏航输入会直接传递给输出混控器。油门输入像ALTCTL模式一样控制爬升和下降速率。
  * **_AUTO（自动模式）_**
    * **AUTO_LOITER（留待模式）**
        * **固定翼飞行器：** 飞机会在当前高度、围绕当前的位置徘徊（也有可能稍微高于当前高度，要飞丢了时可以切到这个模式）。
        * **多轴飞行器：**  多轴飞行器会悬停/徘徊在当前的位置和高度。
    * **AUTO_RTL（返航模式）**
        * **固定翼飞行器：** 飞机返回返航点并在空中环绕返航点徘徊。
        * **多轴飞行器：** 多轴飞行器以当前高度（如果当前高度高于返航点的高度及悬停模式的高度）或者悬停模式的高度（如果当前高度低于悬停模式的高度）沿直线返回返航点，然后自动降落。
    * **AUTO_MISSION（任务模式）**
        * **所有系统类型：** 飞机遵循地面站发来的命令。如果没有任务，那么飞机回在当前位置进入LOITER模式。
  * **_OFFBOARD（外部模式）_**
    在这个模式下，位置、速度或者高度的参考值、目标值、定位点都由伙伴计算机通过串口+MAVLink发送过来。外部定位点可以通过[MAVROS](https://github.com/mavlink/mavros)或者[Dronekit](http://dronekit.io)的API提供。

## 飞行模式评估图

你可以用这张图来判断自己需要哪种飞行模式：

![](images/diagrams/commander-flow-diagram.png)
